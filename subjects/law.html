<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <!-- تحويل للصيانة - احذف هذا السكريبت لإعادة الموقع -->
    <script>window.location.href = '../maintenance.html';</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>قوانين الحاسب - ليالي الامتحان</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="physics2.css">
    <link rel="stylesheet" href="law.css">
    <link rel="stylesheet" href="essay-bank.css">
    <link rel="stylesheet" href="essay-challenge.css">
</head>

<body>
    <nav class="subject-navbar">
        <div class="nav-container">
            <a href="../index.html" class="nav-brand"><i class="fas fa-arrow-right"></i><span>العودة للرئيسية</span></a>
            <div class="nav-subject-title"><i class="fas fa-gavel"></i>قوانين الحاسب</div>
            <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">
                <i class="fas fa-chevron-down"></i>
            </button>
            <div class="nav-links">
                <a href="#hero" class="nav-link active"><i class="fas fa-home"></i><span>الرئيسية</span></a>
                <a href="#summaries" class="nav-link"><i class="fas fa-file-alt"></i><span>الملخصات</span></a>
                <a href="#bank" class="nav-link"><i class="fas fa-book-open"></i><span>الاختياري</span></a>
                <a href="#challenge" class="nav-link"><i class="fas fa-bolt"></i><span>تحدي الاختياري</span></a>
                <a href="#essay-bank" class="nav-link"><i class="fas fa-pen-fancy"></i><span>المقالي</span></a>
                <a href="#essay-challenge" class="nav-link"><i class="fas fa-brain"></i><span>تحدي المقالي</span></a>
                <a href="#leaderboard" class="nav-link"><i class="fas fa-trophy"></i><span>المتصدرين</span></a>
                <a href="#ask-ai" class="nav-link"><i class="fas fa-robot"></i><span>اسأل الذكاء</span></a>
            </div>
        </div>
    </nav>

    <section id="hero" class="subject-hero-section">
        <div class="hero-background"></div>
        <div class="hero-content">
            <div class="subject-badge"><i class="fas fa-gavel"></i></div>
            <h1>قوانين الحاسب</h1>
            <p>Computer Law</p>
            <div class="hero-stats">
                <div class="hero-stat"><i class="fas fa-question-circle"></i><span id="totalQuestions">0</span> سؤال
                    اختياري</div>

                <div class="hero-stat"><i class="fas fa-users"></i><span id="totalPlayers">0</span> متحدي</div>
            </div>
            <div class="hero-buttons">
                <a href="#summaries" class="btn btn-primary"><i class="fas fa-file-alt"></i> الملخصات</a>
                <a href="#bank" class="btn btn-secondary"><i class="fas fa-book-open"></i> الأسئلة الاختيارية</a>
                <a href="#essay-bank" class="btn btn-secondary"><i class="fas fa-pen-fancy"></i> الأسئلة المقالية</a>
            </div>
        </div>
    </section>

    <!-- SUMMARIES SECTION - First after hero -->
    <section id="summaries" class="section summaries-section summaries-theme">
        <div class="container">
            <h2 class="section-title"><i class="fas fa-file-alt"></i>الملخصات</h2>
            <p class="section-subtitle">ملخصات المادة والمراجعات النهائية</p>
            <div class="summaries-grid" id="summariesList">
                <div class="loading-message"><i class="fas fa-spinner fa-spin"></i> جاري تحميل الملخصات...</div>
            </div>
        </div>
    </section>

    <!-- MCQ SECTION GROUP -->
    <section id="bank" class="section bank-section mcq-theme">
        <div class="container">
            <h2 class="section-title"><i class="fas fa-book-open"></i>الأسئلة الاختيارية</h2>
            <p class="section-subtitle">تصفح جميع أسئلة الاختيار من متعدد</p>
            <div class="bank-controls">
                <div class="search-box"><i class="fas fa-search"></i><input type="text" id="searchInput"
                        placeholder="ابحث في الأسئلة..." oninput="filterQuestions()"></div>
                <div class="questions-count">إجمالي: <span id="displayedCount">0</span> سؤال</div>
            </div>
            <div class="questions-list" id="questionsList"></div>
        </div>
    </section>

    <section id="challenge" class="section challenge-section mcq-theme">
        <div class="container">
            <h2 class="section-title"><i class="fas fa-bolt"></i>وضع التحدي - أسئلة اختيارية</h2>
            <p class="section-subtitle">اختبر معلوماتك في 15 سؤال خلال 5 دقائق</p>
            <div class="challenge-intro" id="challengeIntro">
                <div class="challenge-card">
                    <div class="challenge-icon">⚡</div>
                    <h3>تحدي الـ 15 سؤال</h3>
                    <p>اختبر معلوماتك في قوانين الحاسب</p>
                    <div class="challenge-rules">
                        <div class="rule"><i class="fas fa-clock"></i><span>5 دقائق</span></div>
                        <div class="rule"><i class="fas fa-question-circle"></i><span>15 سؤال</span></div>
                        <div class="rule"><i class="fas fa-star"></i><span>15 درجة</span></div>
                        <div class="rule"><i class="fas fa-trophy"></i><span>لوحة الشرف</span></div>
                    </div>
                    <div class="name-input-box"><label><i class="fas fa-user"></i> أدخل اسمك للبدء</label><input
                            type="text" id="challengerName" placeholder="اسمك هنا..." maxlength="30"><button
                            class="start-btn" onclick="startChallenge()"><i class="fas fa-play"></i> ابدأ
                            التحدي</button></div>
                </div>
            </div>
            <div class="challenge-container" id="challengeContainer" style="display: none;">
                <div class="challenge-header">
                    <div class="timer" id="timer"><i class="fas fa-clock"></i><span id="timerDisplay">5:00</span></div>
                    <div class="progress"><span id="questionProgress">1/15</span></div>
                    <div class="score-display"><i class="fas fa-star"></i><span id="currentScore">0</span></div>
                </div>
                <div class="question-box">
                    <div class="question-number" id="questionBadge">السؤال 1</div>
                    <h3 class="question-text" id="questionText"></h3>
                </div>
                <div class="options-container" id="optionsContainer"></div>
                <div class="challenge-nav"><button class="nav-btn" id="prevBtn" onclick="prevQuestion()" disabled><i
                            class="fas fa-arrow-right"></i> السابق</button><button class="nav-btn primary" id="nextBtn"
                        onclick="nextQuestion()">التالي <i class="fas fa-arrow-left"></i></button><button
                        class="nav-btn success" id="submitBtn" onclick="submitChallenge()" style="display: none;"><i
                            class="fas fa-paper-plane"></i> إنهاء</button></div>
            </div>
            <div class="challenge-result" id="challengeResult" style="display: none;">
                <div class="result-icon" id="resultIcon">🏆</div>
                <h2 id="resultTitle">أحسنت!</h2>
                <div class="result-stats">
                    <div class="stat"><span class="stat-value" id="finalScore">0/15</span><span
                            class="stat-label">الدرجة</span></div>
                    <div class="stat"><span class="stat-value" id="finalTime">00:00</span><span
                            class="stat-label">الوقت</span></div>
                    <div class="stat"><span class="stat-value" id="percentage">0%</span><span
                            class="stat-label">النسبة</span></div>
                </div><button class="restart-btn" onclick="restartChallenge()"><i class="fas fa-redo"></i> حاول مرة
                    أخرى</button>
            </div>
        </div>
    </section>

    <!-- ESSAY SECTION GROUP -->
    <section id="essay-bank" class="section essay-bank-section essay-theme">
        <div class="container">
            <h2 class="section-title"><i class="fas fa-pen-fancy"></i>الأسئلة المقالية</h2>
            <p class="section-subtitle">تصفح جميع الأسئلة المقالية للمادة</p>
            <div class="essay-bank-controls">
                <div class="search-box"><i class="fas fa-search"></i><input type="text" id="essaySearchInput"
                        placeholder="ابحث في الأسئلة المقالية..." oninput="filterEssayQuestions()"></div>
                <div class="questions-count">إجمالي: <span id="essayDisplayedCount">0</span> سؤال مقالي</div>
            </div>
            <div class="essay-questions-grid" id="essayQuestionsList">
                <div class="loading-message"><i class="fas fa-spinner fa-spin"></i> جاري تحميل الأسئلة...</div>
            </div>
        </div>
    </section>

    <section id="essay-challenge" class="section essay-challenge-section essay-theme">
        <div class="container">
            <h2 class="section-title"><i class="fas fa-pen-fancy"></i>تحدي المقالي - تصحيح بالذكاء الاصطناعي</h2>
            <p class="section-subtitle">ارفع صورة إجابتك المكتوبة بخط اليد واحصل على تصحيح فوري!</p>
            <div class="essay-challenge-intro" id="essayChallengeIntro">
                <div class="challenge-icon">📝</div>
                <h3>تحدي الأسئلة المقالية</h3>
                <p>أجب على 5 أسئلة مقالية في 15 دقيقة واحصل على تصحيح بالذكاء الاصطناعي!</p>
                <div class="essay-challenge-rules">
                    <div class="rule"><i class="fas fa-clock"></i><span>15 دقيقة</span><small>وقت التحدي</small></div>
                    <div class="rule"><i class="fas fa-question-circle"></i><span>5 أسئلة</span><small>أسئلة
                            مقالية</small></div>
                    <div class="rule"><i class="fas fa-star"></i><span>25 درجة</span><small>الدرجة الكاملة</small></div>
                    <div class="rule"><i class="fas fa-camera"></i><span>رفع صور</span><small>إجابة بخط اليد</small>
                    </div>
                </div>
                <div class="name-input-box">
                    <label><i class="fas fa-user"></i> أدخل اسمك للبدء</label>
                    <input type="text" id="essayChallengerName" placeholder="اسمك هنا..." maxlength="30">
                    <button class="start-btn" onclick="return startEssayChallengeMode(event)"><i
                            class="fas fa-play"></i> ابدأ تحدي
                        المقالي</button>
                </div>
            </div>
            <div class="essay-challenge-active" id="essayChallengeActive" style="display: none;">
                <div class="essay-challenge-status">
                    <div class="essay-timer" id="essayChallengeTimer"><i class="fas fa-clock"></i><span
                            id="essayChallengeTimerText">15:00</span></div>
                    <div class="essay-progress-info">
                        <div class="essay-info-badge"><i class="fas fa-list-ol"></i><span>5 أسئلة</span></div>
                        <div class="essay-info-badge points"><i class="fas fa-star"></i><span>25 درجة</span></div>
                    </div>
                </div>
                <div class="essay-challenge-questions" id="essayChallengeQuestionsContainer"></div>
                <button class="essay-submit-btn" id="essaySubmitBtn" onclick="return submitEssayChallenge(event)"><i
                        class="fas fa-paper-plane"></i> إنهاء التحدي وتصحيح الإجابات</button>
            </div>
            <div class="essay-challenge-result" id="essayChallengeResult" style="display: none;">
                <div class="essay-result-icon" id="essayResultIcon">🏆</div>
                <h2 class="essay-result-title" id="essayResultTitle">أحسنت!</h2>
                <p id="essayResultSubtitle">أداء رائع، استمر على هذا المستوى!</p>
                <div class="essay-result-stats">
                    <div class="essay-result-stat">
                        <div class="essay-result-stat-value" id="essayFinalScore">0/25</div>
                        <div class="essay-result-stat-label">النتيجة</div>
                    </div>
                    <div class="essay-result-stat">
                        <div class="essay-result-stat-value" id="essayFinalTime">00:00</div>
                        <div class="essay-result-stat-label">الوقت المستغرق</div>
                    </div>
                    <div class="essay-result-stat">
                        <div class="essay-result-stat-value" id="essayAnsweredCount">0/5</div>
                        <div class="essay-result-stat-label">الأسئلة المجابة</div>
                    </div>
                </div>
                <button class="essay-restart-btn" onclick="return restartEssayChallenge(event)"><i
                        class="fas fa-redo"></i> حاول مرة
                    أخرى</button>
            </div>
        </div>
    </section>


    <section id="leaderboard" class="section leaderboard-section">
        <div class="container">
            <h2 class="section-title"><i class="fas fa-trophy"></i>لوحة المتصدرين</h2>
            <p class="section-subtitle">أفضل النتائج في تحدي قوانين الحاسب</p>
            <div class="leaderboard-card">
                <div class="leaderboard-header"><button class="refresh-btn" onclick="loadLeaderboard()"><i
                            class="fas fa-sync-alt"></i> تحديث</button></div>
                <div class="leaderboard-container">
                    <table class="leaderboard-table">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>الاسم</th>
                                <th>الدرجة</th>
                                <th>الوقت</th>
                                <th>التاريخ</th>
                            </tr>
                        </thead>
                        <tbody id="leaderboardBody"></tbody>
                    </table>
                    <p class="no-records" id="noRecords" style="display: none;">لا توجد نتائج بعد</p>
                </div>
            </div>
        </div>
    </section>

    <section id="ask-ai" class="section ai-section">
        <div class="container">
            <h2 class="section-title"><i class="fas fa-robot"></i>اسأل الذكاء الاصطناعي</h2>
            <p class="section-subtitle">اسأل أي سؤال عن قوانين الحاسب</p>
            <div class="ai-chat-container">
                <div class="ai-messages" id="aiMessages">
                    <div class="ai-message bot">
                        <div class="message-avatar"><i class="fas fa-robot"></i></div>
                        <div class="message-content">
                            <p>مرحباً! اسألني أي سؤال عن قوانين الحاسب!</p>
                        </div>
                    </div>
                </div>
                <div class="ai-input-container"><textarea id="aiInput" placeholder="اكتب سؤالك هنا..."
                        rows="2"></textarea><button class="ai-send-btn" onclick="askAI()"><i
                            class="fas fa-paper-plane"></i></button></div>
            </div>
        </div>
    </section>

    <!-- Theme Toggle Button -->
    <button class="theme-toggle" onclick="cycleTheme()" title="تغيير الثيم"><i class="fas fa-moon"></i></button>
    <!-- Theme Decorations -->
    <div class="snowflake">❄</div>
    <div class="snowflake">❅</div>
    <div class="snowflake">❆</div>
    <div class="snowflake">❄</div>
    <div class="snowflake">❅</div>
    <div class="snowflake">❆</div>
    <div class="snowflake">❄</div>
    <div class="snowflake">❅</div>
    <div class="snowflake">❆</div>
    <div class="snowflake">❄</div>
    <div class="space-planet planet-1"></div>
    <div class="space-planet planet-2"></div>
    <div class="pyramid-3d pyramid-1"></div>
    <div class="pyramid-3d pyramid-2"></div>

    <footer class="subject-footer">
        <p>© 2024 ليالي الامتحان - قوانين الحاسب | <a href="https://ibrahim88887.github.io/EAAAI/"
                target="_blank">EAAAI</a></p>
    </footer>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="essay-challenge.js"></script>
    <script src="law.js"></script>
</body>

</html>